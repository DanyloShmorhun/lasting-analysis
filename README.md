
# Проєкт аналізу даних про лікарські засоби

## Огляд

Цей проєкт створено для аналізу даних про лікарські засоби, включаючи виправлення помилок у назвах, категоризацію, виживаність та інші дослідницькі аналізи. Проєкт використовує Streamlit для інтерфейсу аналізу, а також різноманітні бібліотеки Python для обробки даних.

---

## Особливості

- **Корекція помилок**: Виправлення помилок у назвах ліків за допомогою словників.
- **Категоризація ліків**: Класифікація лікарських засобів за категоріями.
- **Аналіз виживаності**: Використання моделі пропорційних ризиків Кокса для аналізу.
- **Інтерактивний інтерфейс**: Зручний веб-інтерфейс на базі Streamlit.
- **Гнучка конфігурація**: Параметри налаштовуються через `config.yaml`.

---

## Структура проєкту

```
project_root/
│
├── .gitignore              # Файли, які виключені з репозиторію
├── LICENSE                 # Ліцензія проєкту
├── poetry.lock             # Інформація про залежності (Poetry)
├── README.md               # Документація
├── app.py                  # Streamlit-додаток для аналізу виживаності
├── data/                   # Папка для даних
├── src/                    # Вихідний код проєкту
│   ├── drug_data.py        # Логіка корекції назв і категоризації
│   ├── tools.py            # Утиліти для роботи з даними
│   ├── EDA.ipynb           # Дослідницький аналіз даних
│   └── Analysis.ipynb      # Глибокий аналіз і моделювання
```

---

## Інструкція з використання

### 1. Налаштування середовища

1. **Клонування репозиторію**:
   ```bash
   git clone <repository_url>
   cd <repository_name>
   ```

2. **Встановлення залежностей**:
   Використовуйте Poetry для інсталяції залежностей:
   ```bash
   poetry install
   ```

3. **Налаштування конфігурації**:
   Відредагуйте файл `config.yaml`, щоб вказати шляхи до вхідних даних та параметрів аналізу.

---

### 2. Використання Streamlit-додатку

1. **Запуск додатку через Poetry**:

   Спочатку переконайтеся, що всі залежності встановлені за допомогою команди:

   ```bash
   poetry install
   ```

   Потім активуйте віртуальне середовище Poetry:

   ```bash
   poetry shell
   ```

   Після цього запустіть Streamlit-додаток:

   ```bash
   streamlit run app.py
   ```

2. **Основні функції додатку**:
   - Завантаження файлу `data_for_cox.csv` з попередньо обробленими даними.
   - Вибір коваріатів, тривалості виживаності та статусу події.
   - Візуалізація результатів моделі Кокса:
     - Графік коефіцієнтів ризику (Hazard Ratios).
     - Графік p-значень для оцінки значущості.
   - Генерація висновків на основі результатів аналізу.

---

### 3. Виконання Jupyter ноутбуків

1. **EDA.ipynb**:
   - Попередня обробка даних: виправлення помилок і видалення пропущених значень.
   - Візуалізація структури даних.

2. **Analysis.ipynb**:
   - Аналіз категорій лікарських засобів.
   - Глибокий аналіз даних, включаючи статистичні моделі.

---

## Примітки

- Для запуску Streamlit-додатку необхідний файл `data_for_cox.csv` у папці `data/` або його ручне завантаження через інтерфейс.
- У разі дублювання назв колонок у даних, вони автоматично перейменовуються.
- Для використання моделі Кокса необхідно вказати хоча б одну змінну, пов'язану з лікуванням.